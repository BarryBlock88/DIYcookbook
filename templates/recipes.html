{% extends "base.html" %}
{% block content %}

<h1>hey bitches!</h1>
<!-- Search Recipes-->
<div class="row card-panel">
  <form action="{{ url_for('search') }}" method="post" class="col s12 m10">
     <div class="row valign-wrapper center-align">
        <div class="input-field col s12 m10">
           <i class="fas fa-search prefix light-blue-text"></i>
           <input type="text" name="query" id="query" minlength="3" class="validate" required>
           <a href="{{ url_for('get_recipes') }}" class="btn">All Recipes</a>
           <button type="submit" class="btn ">Search</button>
        </div>
     </div>
  </form>
</div>

<!-- Select by Category -->
<div class="row">
  <div class="col center-align ">
     <a href="{{ url_for('search_recipes', query='Breakfast') }}" class="btn "><i class="fas fa-mug-hot"></i></a>
     <a href="{{ url_for('search_recipes', query='Lunch') }}" class="btn "><i class="fas fa-drumstick-bite"></i></a>
     <a href="{{ url_for('search_recipes', query='Dinner') }}" class="btn "><i class="fas fa-hamburger"></i></a>
     <a href="{{ url_for('search_recipes', query='Dessert') }}" class="btn "><i class="fas fa-ice-cream"></i></a>
  </div>
</div>
{% for category in categories %}
<a href="{{ category.category_name }}" class="btn-small waves-effect waves-light red accent-4 modal-trigger"><i
  class="fas fa-sandwich"></i></a>
<h2></h2>
{% endfor %}

  <div class="row">
    {% for recipe in recipes %}
    <div class="col s12 m6">
      <div class="card">
        <div class="card-image ">
          <img class="recipe-img activator" src="{{ recipe.recipe_image }}" alt="{{ recipe.recipe_name }}">
          <span id="recipe-title" class="card-title">{{ recipe.recipe_name }}<br></span>
          {% if session.user|lower == recipe.created_by|lower %}
              <a class="btn-small waves-effect waves-light red" href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}"><i
                  class="fas fa-edit"></i></a>
              <!-- Modal Trigger -->
              <a href="#modal_delete" class="btn-small waves-effect waves-light red accent-4 modal-trigger"><i
                  class="fas fa-trash-alt"></i></a>
              <!-- Modal Structure -->
              <div id="modal_delete" class="modal">
                <div class="modal-content">
                  <h2>Sure you want to delete this recipe?</h2>
                </div>
                <div class="modal-footer">
                  <a href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}"
                    class="modal-close waves-effect waves-green btn">Delete</a>
                    <a href="{{ url_for('get_recipes') }}"
                    class="modal-close waves-effect waves-green btn">Cancel</a>
                </div>
              </div>
          {% endif %}
        </div>
        <div class="card-content">
          <p>by: {{ recipe.created_by }}<span class="card-title activator red"><i
                class="hoverable fasser fas fa-arrow-alt-circle-up right"></i></span></p>

        </div>
        <div class="card-reveal">
          <span class="card-title red">
            <h2>{{ recipe.recipe_name }}</h2><i class="hoverable fasser fas fa-arrow-alt-circle-down right"></i>
          </span>
          <p><strong>Category: {{ recipe.category_name }}</strong></p>
          <p><strong>serves:{{ recipe.serves }}</strong></p>
          <p><strong>Difficulty: {{ recipe.difficulty }}</strong></p>
          <p><strong>Description: {{ recipe.description }}</strong></p>
          <p><strong>Ingredients: {{ recipe.ingredients }}</strong></p>
          <p><strong>Prep time: {{ recipe.prep_time }}</strong></p>
          <p><em>by: {{ recipe.created_by }}</em></p>
        </div>
      </div>
    </div>
    {% endfor %}
</div>
{% endblock %}