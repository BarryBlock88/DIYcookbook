{% extends "base.html" %}
{% block content %}


<h2>Edit your Beer brew!</h2>
<div class="row">
    <form class="col s12" method="POST" action="{{ url_for('edit_brew', brew_id=brew._id) }}">
        <!--brew name-->
        <div class="row brew-name">
            <div class="input-field col s6">
                <input name="brew_name" id="brew_name" type="text" value="{{ brew.brew_name }}"
                    class="form-control validate" required>
                <label for="brew_name">brew Name</label>
            </div>
        </div>
        <!-- selection-->
        <div class="row category">
            <div class="input-field col s4">
                <select name="category_name" id="category_name" class="form-control validate" required>
                    <option value="" disabled>Choose Category</option>
                    {% for category in categories %}
                        {% if category.category_name == brew.category_name %}
                            <option value="{{ category.category_name }}" selected>{{ category.category_name }}</option>
                        {% else %}
                            <option value="{{ category.category_name }}">{{ category.category_name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
        </div>

        <!-- brew difficulty -->
        <div class="row difficulty">
            <div class="input-field col s4">
                <i class=""></i>
                <select name="difficulty" id="difficulty" class="form-control validate" required>
                    <option value="" disabled>Choose Difficulty</option>
                    {% for diff in difficulties %}
                        {% if diff.difficulty == brew.difficulty %}
                            <option value="{{ diff.difficulty }}" selected>{{ diff.difficulty }}</option>
                        {% else %}
                            <option value="{{ diff.difficulty }}">{{ diff.difficulty }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
        </div>


      <!-- quantity -->
      <div class="row quantity">
        <div class="input-field col s6">
           <i class=""></i>
           <label for="quantity">Quantity</label>
           <input type="text" class="form-control validate" name="quantity" id="quantity" aria-describedby="quantity"
              required>
        </div>
     </div>

     <!-- ABV of beer -->
     <div class="row abv">
        <div class="input-field col s6">
           <i class=""></i>
           <label for="abv">ABV (%)</label>
           <input type="text" class="form-control validate" name="abv" id="abv"
              aria-describedby="abv" required>
        </div>
     </div>

     <!-- Preparation time -->
     <div class="row brew-time">
        <div class="input-field col s6">
           <i class=""></i>
           <label for="brew_time">Brewing Time (Days)</label>
           <input type="text" class="form-control validate" name="brew_time" id="brew_time"
              aria-describedby="brew_time" required>
        </div>
     </div>
        <!-- Description of brew -->
        <div class="row description">
            <div class="input-field col s12">
                <i class=""></i>
                <label for="description">Description</label>
                <input type="text" class="form-control validate" name="description" value="{{ brew.description }}"
                    id="description" aria-describedby="description" minlength="5" required>
            </div>
        </div>

        <!-- Ingredients for brew -->
        <div class="row ingredient">
            <div class="input-field col s12">
                <i class=""></i>
                <label for="ingredients">Ingredients</label>
                <input type="text" class="form-control validate" name="ingredients" value="{{ brew.ingredients }}"
                    id="ingredients" aria-describedby="ingredients" minlength="3" required>
            </div>
        </div>

        <!-- image of brew URL input -->
        <div class="row prep">
            <div class="input-field col s12">
                <i class=""></i>
                <label for="brew_image">brew URL</label>
                <textarea type="text" id="brew_image" name="brew_image" minlength="5" maxlength="200"
                    class="materialize-textarea validate" required>{{- brew.brew_image -}}</textarea>
                <span class="helper-text" data-error="wrong" data-success="right">Make sure the url is correct!</span>
            </div>
        </div>


        <div class="row center-align">
            <div class="col s12">
                <button class="btn waves-effect present-buttn" type="submit" name="action">Edit brew</button>
                <a href="{{ url_for('get_brews') }}" class="back btn btn-cancel">Cancel</a>
            </div>
        </div>

    </form>
</div>

{% endblock %}